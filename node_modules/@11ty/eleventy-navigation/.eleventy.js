const EleventyNavigation = require("./eleventy-navigation");

// export the configuration function for plugin
module.exports = function(eleventyConfig) {
	eleventyConfig.addNunjucksFilter("navi", EleventyNavigation.findNavigationEntries);
	eleventyConfig.addNunjucksFilter("naviBreadcrumb", EleventyNavigation.findBreadcrumbEntries);
	eleventyConfig.addNunjucksFilter("naviToHtml", function(pages, options) {
		return EleventyNavigation.toHtml.call(eleventyConfig, pages, options);
	});
};

module.exports.navigation = {
	find: EleventyNavigation.findNavigationEntries,
	findBreadcrumbs: EleventyNavigation.findBreadcrumbEntries,
	getDependencyGraph: EleventyNavigation.getDependencyGraph,
};